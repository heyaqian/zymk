{"remainingRequest":"D:\\WORKSPACE\\zymk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WORKSPACE\\zymk\\src\\pages\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WORKSPACE\\zymk\\src\\pages\\user.vue","mtime":1578313532186},{"path":"D:\\WORKSPACE\\zymk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577705674229},{"path":"D:\\WORKSPACE\\zymk\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1577705661979},{"path":"D:\\WORKSPACE\\zymk\\node_modules\\babel-loader\\lib\\index.js","mtime":1577705725439},{"path":"D:\\WORKSPACE\\zymk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1577705674229},{"path":"D:\\WORKSPACE\\zymk\\node_modules\\vue-loader\\lib\\index.js","mtime":1577705715119}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Cell from '../components/cell.vue'\nexport default{\n\tdata(){\n\t\treturn {\n\t\t\tdata:{},\n\t\t\t\n\t\t\tlist:[{text:\"我的红包\",url:\"/images/redpackage.png\"},{text:\"我的留言\",url:\"/images/msg.png\"}]\n\t}\n\t \n\t \n\t},\n\t\n\tcomponents:{\n\t\tCell\n\t},\n\tmounted(){\n\t\t\n\t},\n\tupdated() {\n\t\t\n\t},\n\tbeforeRouteEnter(to, from, next) {\n\t  //条件异步\n\t  // 抓取token\n\t  let token = window.localStorage.getItem('token');\n\t  if (token) {\n\t    axios({\n\t      url: '/api/user',\n\t      headers: {\n\t        'token': token\n\t      }\n\t    }).then(\n\t      res => res.data.err == 0 ? next(_this=>_this.data=res.data.data) : next('/login')\n\t    )\n\t  } else {\n\t    next('/login')\n\t  }\n\t},\n\tmethods:{\n\t\tlogout() {\n\t\t  //...........\n\t\t  window.localStorage.removeItem('token')\n\t\t  this.$router.push('/home')\n\t\t}\n\t}\n}\n",{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n\t<div class=\"user\">\r\n\t\t<div class=\"bg\">\r\n\t\t\t<img src=\"../assets/img/t3.jpg\" alt=\"\" class=\"pic\">\r\n\t\t\t<p class=\"username\"><a href=\"javascript:;\">{{data.nikename}}</a></p>\r\n\t\t\t<p class=\"userrank\"><a href=\"javascript:;\" @click=\"logout\">注销</a></p>\r\n\t\t</div>\r\n\t\t<Cell \r\n\t\t\tv-for=\"(item,index) of list\"\r\n\t\t\t:key = 'index'\r\n\t\t\t:text=\"item.text\"\r\n\t\t\t:url=\"item.url\"\r\n\t\t/>\r\n\t\t\r\n\t</div>\n</template>\n\n<script>\r\n\timport Cell from '../components/cell.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn {\r\n\t\t\t\tdata:{},\r\n\t\t\t\t\r\n\t\t\t\tlist:[{text:\"我的红包\",url:\"/images/redpackage.png\"},{text:\"我的留言\",url:\"/images/msg.png\"}]\r\n\t\t}\r\n\t\t \r\n\t\t \n\t\t},\r\n\t\t\n\t\tcomponents:{\r\n\t\t\tCell\r\n\t\t},\n\t\tmounted(){\n\t\t\t\n\t\t},\n\t\tupdated() {\n\t\t\t\n\t\t},\r\n\t\tbeforeRouteEnter(to, from, next) {\r\n\t\t  //条件异步\r\n\t\t  // 抓取token\r\n\t\t  let token = window.localStorage.getItem('token');\r\n\t\t  if (token) {\r\n\t\t    axios({\r\n\t\t      url: '/api/user',\r\n\t\t      headers: {\r\n\t\t        'token': token\r\n\t\t      }\r\n\t\t    }).then(\r\n\t\t      res => res.data.err == 0 ? next(_this=>_this.data=res.data.data) : next('/login')\r\n\t\t    )\r\n\t\t  } else {\r\n\t\t    next('/login')\r\n\t\t  }\r\n\t\t},\n\t\tmethods:{\r\n\t\t\tlogout() {\r\n\t\t\t  //...........\r\n\t\t\t  window.localStorage.removeItem('token')\r\n\t\t\t  this.$router.push('/home')\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style scoped>\r\n \r\n    body{background: #f1f1f1}\r\n\t.user{\r\n\t\tfont-size: .13rem;\r\n\t\ttext-align: center;\r\n\t}\r\n  .user .bg{height: 1.55rem;background:url(../assets/img/userbg.png);}\r\n   .user .bg p{color: #AFA9A9;font-size: ;}\r\n .pic{width: .8rem;height: .8rem;border-radius: 50%;margin-top:.2rem;}\r\n</style>\n"]}]}